# DOMCloud Deployment Script for Go Backend
source: clear
features:
  - golang
  - root

# Environment Variables (Pastikan isi data TiDB Anda di sini)
env:
  GIN_MODE: release
  DB_HOST: "gateway01.ap-southeast-1.prod.aws.tidbcloud.com"
  DB_PORT: "4000"
  DB_USER: "3Rtj2MNUvxPhvBM.root"
  DB_NAME: "wallet_point"
  DB_PASSWORD: "ISI_PASSWORD_TIDB_ANDA"
  JWT_SECRET: "rahasia_domcloud_123"
  ALLOWED_ORIGINS: "*"
  SERVER_PORT: "8080"
  PORT: "8080"

# Install and Build
install:
  - go mod download
  - go build -o server ./cmd/server
  - mkdir -p public/uploads

# Run script
run:
  - ./server
